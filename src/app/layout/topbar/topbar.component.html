<div class="topbar-logo-icon">
  <a [href]="homeUrl">
    <md-icon svgIcon="logo" class="topbar-logo-icon"></md-icon>
  </a>
</div>
<div class="dropdown-main-search">
  <div class="input-search">
    <div class="search-wrapper">
      <tsl-categories-list (newCategory)="onCategoryUpdate($event)"></tsl-categories-list>
      <form id="js-main-search-form" method="get">
        <tsl-suggester (newSearchSubmit)="onSearchSubmit($event)" (newKeyword)="onKeywordUpdate($event)"
                       (newSearch)="onSearchUpdate($event)"></tsl-suggester>
        <input id="main-search-hidden-category" #categoryEl name="category" type="hidden" value="{{ category }}"/>
      </form>
      <tsl-geolocation (newCoordinate)="onCoordinateUpdate($event)"></tsl-geolocation>
    </div>
    <button class="search-btn" (click)="submitForm()">
      <md-icon svgIcon="glass" class="search-glass topbar-icon"></md-icon>
    </button>
  </div>
</div>
<div class="main-header-login">
  <a class="main-header-home menu-link" [href]="homeUrl">
    <md-icon svgIcon="wall" class="topbar-icon"></md-icon>
    <span i18n>Wall</span>
    <div class="horizontal-line"></div>
  </a>
  <a class="main-header-chat menu-link" [routerLink]="['/chat']" [routerLinkActive]="['active']">
    <div class="news-badge"></div>
    <md-icon svgIcon="messages" class="topbar-icon"></md-icon>
    <span i18n>Messages</span>
    <div class="horizontal-line"></div>
  </a>
  <div class="topbar-menu-dropdown" ngbDropdown>
    <div ngbDropdownToggle>
      <tsl-user-avatar class="topbar-avatar" [size]="32" [user]="user" *ngIf="user"></tsl-user-avatar>
      <span class="topbar-user-name">{{user?.microName}}</span>
      <md-icon svgIcon="arrow-waterfall" class="topbar-icon"></md-icon>
    </div>
    <div class="dropdown-menu dropdown-menu-right">
      <a class="dropdown-item" href="{{userUrl}}" i18n>My Profile</a>
      <a class="dropdown-item" [routerLink]="['/catalog/list']" i18n>My Catalog</a>
      <a class="dropdown-item" [routerLink]="['/favorites']" i18n> Favorites</a>
      <a class="dropdown-item" (click)="logout()" i18n>Logout</a>
    </div>
  </div>
  <button class="main-header-upload btn btn-primary" (click)="upload()">
    <md-icon svgIcon="upload"></md-icon>
    <span i18n>List it</span>
  </button>
</div>
