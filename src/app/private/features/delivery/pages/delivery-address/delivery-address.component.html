<div class="page-content">
  <div class="container">
    <tsl-profile-form [profileForm]="deliveryAddressForm" (onInit)="initForm()">
      <form [formGroup]="deliveryAddressForm" (submit)="onSubmit()">
        <div class="box profile-box" [hidden]="loading">
          <div class="col-12 col-md-11 offset-md-1">
            <div class="row" >
              <div class="col-12">
                <h3 i18n="@@address_view_all_users_top_bar_add_title">Add your address</h3>
              </div>
            </div>
            <div class="row mb-3" *ngIf="userComesFromPayView">
              <div class="col-12">
                <span i18n="@@address_view_all_users_form_plain_text_sender_need_explanation_text" class="payViewInfoMessage">We need your address to be the sender in case of return</span>
              </div>
            </div>
            <div class="row">
              <div class="col-sm-12 col-md-12">
                <div class="form-group row align-items-center">
                  <label for="country_iso_code" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_country_label">Country</label>
                  <div class="col-sm-12 col-md-5">
                    <tsl-dropdown i18n-placeholder="@@address_view_all_users_form_textfield_country_label" class="form-control" formControlName="country_iso_code" id="country_iso_code" [isLoading]="!isCountryEditable" [options]="countries" (click)="handleShowWarningCountry()" (selected)="handleClearFrom($event)">
                    </tsl-dropdown>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="full_name" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_name_label">Name and surname</label>
                  <div class="col-sm-12 col-md-5">
                    <input type="text" class="form-control" id="full_name" formControlName="full_name"/>
                    <div *ngIf="isIncorrectFormcontrol(deliveryAddressForm.controls.full_name)" class="alert">
                      <span *ngIf="deliveryAddressForm.controls.full_name.errors.required" i18n="@@address_view_all_users_form_textfield_name_missing_info_inline_error">
                        The name field can't be empty
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="street" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_street_label">Street and number</label>
                  <div class="col-sm-12 col-md-5">
                    <input type="text" class="form-control" id="street" formControlName="street"/>
                    <div *ngIf="isIncorrectFormcontrol(deliveryAddressForm.controls.street)" class="alert">
                      <span *ngIf="deliveryAddressForm.controls.street.errors.required" i18n="@@address_view_all_users_form_textfield_street_missing_info_inline_error">
                        The address field can't be empty
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="flat_and_floor" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_door_label">Floor and door number</label>
                  <div class="col-sm-12 col-md-5">
                    <input type="text" class="form-control" id="flat_and_floor" formControlName="flat_and_floor"/>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="postal_code" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_postalcode_label">Postal code</label>
                  <div class="col-sm-12 col-md-5">
                    <input type="text" class="form-control" id="postal_code" formControlName="postal_code"/>
                    <div *ngIf="isIncorrectFormcontrol(deliveryAddressForm.controls.postal_code)" class="alert">
                      <span *ngIf="deliveryAddressForm.controls.postal_code.errors.required" i18n="@@address_view_all_users_form_textfield_postalcode_missing_info_inline_error">
                        The ZIP code field can't be empty
                      </span>
                      <span *ngIf="false" i18n="@@address_view_all_users_form_textfield_postalcode_missmatch_location_inline_error">
                        The ZIP code must be from the country you are located
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="city" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_city_label">City</label>
                  <div class="col-sm-12 col-md-5">
                    <tsl-dropdown i18n-placeholder="@@address_view_all_users_form_textfield_city_label" class="form-control" formControlName="city" id="city" [options]="cities" [disabled]="cities?.length <= 1">
                    </tsl-dropdown>
                    <div *ngIf="isIncorrectFormcontrol(deliveryAddressForm.controls.city)" class="alert">
                      <span *ngIf="deliveryAddressForm.controls.city.errors.required" i18n="@@address_view_all_users_form_textfield_city_missing_info_inline_error">
                        The city field can't be empty
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-group row align-items-center">
                  <label for="phone_number" class="col-sm-12 col-md-5" i18n="@@address_view_all_users_form_textfield_phone_label">Phone number</label>
                  <div class="col-sm-12 col-md-5">
                    <input type="text" class="form-control" id="phone_number" formControlName="phone_number"/>
                    <div *ngIf="isIncorrectFormcontrol(deliveryAddressForm.controls.phone_number)" class="alert">
                      <span *ngIf="deliveryAddressForm.controls.phone_number.errors.required" i18n="@@address_view_all_users_form_textfield_phone_missing_info_inline_error">
                        The contact number field can't be empty
                      </span>
                      <span *ngIf="false" i18n="@@address_view_all_users_form_textfield_phone_missmatch_location_inline_error">
                        The contact number must be from the country you are located
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-12 text-center d-flex flex-column">
                    <span i18n="@@address_view_all_users_form_plain_text_phone_number_need_explanation_text" class="phoneInfoMessage mb-4">Add a phone number to receive free SMS in case we need to inform you about the status of your shipment.</span>
                    <tsl-button [type]="'submit'" [loading]="loading" className="btn-primary btn-big"
                      [disabled]="!formComponent.hasNotSavedChanges" i18n="@@address_view_all_users_bottom_bar_save_button">Save</tsl-button>
                  </div>
                </div>
              </div>
            </div>
        </div>
        <div class="row loading-center">
          <tsl-spinner [hidden]="!loading"></tsl-spinner>
        </div>
        </div>
      </form>
    </tsl-profile-form>
  </div>
</div>
  