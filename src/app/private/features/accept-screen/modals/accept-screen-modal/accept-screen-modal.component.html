<div class="AcceptScreen modal-body">
  <div class="d-flex justify-content-between mb-4">
    <a class="AcceptScreen__cursorPointer d-flex" (click)="goToAcceptScreen()">
      <tsl-svg-icon
        id="back"
        *ngIf="!isAcceptScreenStep"
        src="/assets/icons/back-arrow.svg"
        class="AcceptScreen__cursorPointer align-self-center"
      ></tsl-svg-icon>
      <span class="ml-3 p-0" id="headerText">{{ headerText }}</span>
    </a>
    <tsl-svg-icon
      id="cross"
      src="/assets/icons/cross.svg"
      class="AcceptScreen__cursorPointer align-self-center"
      (click)="closeModal()"
    ></tsl-svg-icon>
  </div>
  <tsl-button *ngIf="isAcceptScreenStep" id="help" i18n="@@accept_view_seller_top_bar_help_title" className="btn btn-link">Help</tsl-button>
  <tsl-stepper>
    <ng-template step>
      <div *ngIf="acceptScreenProperties$ | async as properties">
        <tsl-product-card
          [buyer]="properties.buyer"
          [item]="properties.item"
          [offeredPrice]="properties.request.offeredPrice"
        ></tsl-product-card>
        <tsl-delivery-method-selector [deliveryMethods]="properties.carriers"></tsl-delivery-method-selector>
        <div class="AcceptScreen__sellerAddressTitle AcceptScreen__bottomLine d-flex pt-4 pb-2">
          <span i18n="@@accept_view_seller_sender_details_title">Your data</span>
        </div>
        <div id="sellerAddressSection" class="AcceptScreen__bottomLine d-flex py-2 align-items-center justify-content-between">
          <div class="AcceptScreen__sellerAddressInfoWrapper d-flex text-truncate">
            <tsl-user-avatar [imageUrl]="properties.seller.imageUrl" [size]="48"></tsl-user-avatar>
            <div
              class="AcceptScreen__sellerAddressInfo d-flex flex-column text-truncate mx-2"
              [ngClass]="{ 'align-self-center': !properties.seller.fullAddress }"
            >
              <span
                [ngClass]="{ 'AcceptScreen__sellerAddressHeader--small': properties.seller.fullAddress }"
                class="text-truncate"
                i18n="@@accept_view_seller_sender_details_label"
                >Sender</span
              >
              <span id="fullAddress" *ngIf="properties.seller.fullAddress" class="text-truncate">{{ properties.seller.fullAddress }}</span>
            </div>
          </div>
          <tsl-button id="addressButton" class="d-flex" className="btn btn-link btn--noPadding" (click)="goToDeliveryAddress()">
            <span *ngIf="!properties.seller.fullAddress" id="addressButtonCopy" i18n="@@accept_view_seller_sender_details_add_button"
              >Add your address</span
            >
            <span *ngIf="properties.seller.fullAddress" id="addressButtonCopy" i18n="@@accept_view_seller_sender_details_edit_button"
              >Edit your address</span
            >
          </tsl-button>
        </div>
      </div>
    </ng-template>
    <ng-template step>
      <tsl-delivery-address
        *ngIf="acceptScreenCountries$ | async"
        [showTitle]="false"
        [whereUserComes]="DELIVERY_ADDRESS_PREVIOUS_PAGE"
        (addressSaveSucced)="goToAcceptScreen()"
      ></tsl-delivery-address>
    </ng-template>
  </tsl-stepper>
</div>
