<ng-container *ngIf="!newSubscription && !editSubscription; else subscriptionView">
  <tsl-subscription-list
    [isPro]="isPro$ | async"
    [isLoading]="loading"
    (clickButton)="manageSubscription($event)"
    [subscriptions]="subscriptions"
  ></tsl-subscription-list>
  <tsl-subscription-benefits [hidden]="loading"></tsl-subscription-benefits>
</ng-container>

<ng-template #subscriptionView>
  <tsl-subscription-purchase
    *ngIf="newSubscription"
    [subscription]="newSubscription"
    [user]="user"
    (purchaseSuccessful)="subscriptionChangeSuccessful($event)"
    (unselectSubscription)="onUnselectSubscription()"
  ></tsl-subscription-purchase>
  <tsl-subscription-edit
    *ngIf="editSubscription"
    [subscription]="editSubscription"
    [user]="user"
    (editSuccesful)="subscriptionChangeSuccessful($event)"
    (unselectSubscription)="onUnselectSubscription()"
  ></tsl-subscription-edit>
</ng-template>
