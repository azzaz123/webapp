<div class="page-content">

  <div class="dashboard-container d-flex flex-row">
    <div class="dashboard-graphs">
      <tsl-header>
        <div class="row mb-3">
          <div class="col-12">
            <div class="header-row">
              <h1 class="header-title"><span i18n="@@web_dashboard_pages_195">Your stats</span></h1>
            </div>
            <div class="header-row header-row--margin">
              <h4 class="header-subtitle" i18n="@@web_dashboard_pages_196">Here you can see information related with the visualizations, chats and
                calls
                generated by your car catalog. You can also see the impact on metrics of the highlights you apply.</h4>
            </div>
          </div>
        </div>
      </tsl-header>

      <tsl-stats-graph></tsl-stats-graph>
      <tsl-stats-graph [yearly]="true"></tsl-stats-graph>
    </div>

    <div class="stats-sidebar">
      <div class="stats-sidebar-container">
        <h2>
          <span i18n="@@web_dashboard_pages_676">Pending</span>
          <span [hidden]="!phonesTotal && !messagesTotal">({{phonesTotal + countTotalMessages()}})</span>
        </h2>
      </div>

      <div class="scroll-panel" [hidden]="loading || (!hasConversations() && !hasCalls())">
        <div class="stats-sidebar-container" [hidden]="loading || !hasConversations()">
          <h3>
            <span i18n="@@web_dashboard_pages_651">Messages</span>
            <a [routerLink]="['/chat']" [hidden]="!messagesTotal"><span i18n="@@web_dashboard_pages_197">View all</span></a>
          </h3>
          <tsl-inbox-conversation *ngFor="let conversation of conversations | slice: 0: 5;"
            [conversation]="conversation" [archiveConversation]="true" (click)="openConversation(conversation)">
          </tsl-inbox-conversation>
        </div>
        <div class="stats-sidebar-container calls-container" [hidden]="loading || !hasCalls()">
          <h3>
            <span i18n="@@web_dashboard_pages_198">Phones</span>
            <a [routerLink]="['/pro/calls']" [hidden]="!phonesTotal"><span i18n="@@web_dashboard_pages_575">View all</span></a>
          </h3>
          <tsl-call [call]="call" *ngFor="let call of calls" [routerLink]="['/pro/calls']" [queryParams]="{c: call.id}"
            [hidden]="!calls.length"></tsl-call>
        </div>
      </div>
      <div class="scroll-panel" [hidden]="!loading">
        <tsl-svg-icon src="/assets/icons/spinner.svg" class="spinner" [hidden]="!loading"></tsl-svg-icon>
      </div>
      <div [hidden]="loading || hasConversations() || hasCalls()" class="stats-sidebar-completed">
        <div>
          <h2 i18n="@@web_dashboard_pages_576">Congratulations!</h2>
          <p i18n="@@web_dashboard_pages_199">You have processed all the pending leads. Good job!</p>
        </div>
      </div>
    </div>

  </div>
</div>