<div [ngClass]="{resized: itemService.selectedItems.length}">
  <div class="checkbox">
    <button class="select" (click)="select(item)" [ngClass]="{selected: item.selected}" *ngIf="showCheckbox">
      <md-icon svgIcon="check"></md-icon>
    </button>
  </div>
  <div class="item" [ngClass]="{expired: item.flags.expired, selected: item.selected, pending: item.flags.pending}">
    <a href="{{link}}" target="_blank" tslTrackEvent="PRODUCT_VIEWED" [params]="{product_id: item.id}" class="image"><tsl-item-avatar [item]="item" size="big" fallbackLight="true"></tsl-item-avatar></a>
    <a href="{{link}}" target="_blank" tslTrackEvent="PRODUCT_VIEWED" [params]="{product_id: item.id}" class="price">
      <span>{{item.salePrice | customCurrency:item.currencyCode}}</span>
    </a>
    <a href="{{link}}" target="_blank" tslTrackEvent="PRODUCT_VIEWED" [params]="{product_id: item.id}" class="title">
      <span>{{item.title}}</span>
    </a>
    <span class="visibility">
      <md-icon svgIcon="views"></md-icon> {{item.views}}
      <md-icon svgIcon="heart"></md-icon> {{item.favorites}}
    </span>
    <span class="actions" *ngIf="!item.flags.expired && !item.flags.pending">
      <span [hidden]="item.sold">
      <button class="btn-feature" (click)="featureItem(item)" *ngIf="!item.bumpExpiringDate">
         <md-icon svgIcon="feature"></md-icon>
        <span i18n>Feature Product</span>
      </button>
      <button class="btn-featured" *ngIf="item.bumpExpiringDate">
        {{item.bumpExpiringDate | amCountdown}}
      </button>
      </span>
      <button class="btn-sold" [hidden]="item.sold" (click)="setSold(item)">
        <md-icon svgIcon="btn-sold"></md-icon>
      </button>
      <button class="btn-reserve" [ngClass]="{active: item.reserved}" (click)="reserve(item)" *ngIf="!item.sold">
        <md-icon svgIcon="btn-reserved"></md-icon>
      </button>
      <button class="btn-edit" [routerLink]="['/catalog/edit/' + item.id]">
        <md-icon svgIcon="btn-edit"></md-icon>
      </button>
      <button class="btn-delete" (click)="deleteItem(item)">
        <md-icon svgIcon="btn-delete"></md-icon>
      </button>
    </span>
    <button class="btn-reactivate" (click)="reactivateItem(item)" *ngIf="item.flags.expired">
      <md-icon svgIcon="clock"></md-icon>
      <span i18n>Reactivate</span>
    </button>
    <button class="btn-pending" *ngIf="item.flags.pending">
      <md-icon svgIcon="spinner" class="spinner grey"></md-icon>
      <span i18n>Pending</span>
    </button>
  </div>
</div>
