<div class="page-content"
     infinite-scroll
     [infiniteScrollDistance]="5"
     [infiniteScrollThrottle]="100"
     [scrollWindow]="false"
     [infiniteScrollDisabled]="end || loading"
     (scrolled)="loadMore()">
  <div class="container">
    <nav class="nav filters-nav" [hidden]="itemService.selectedItems.length">
      <a (click)="filterByStatus('published')" [ngClass]="{active: selectedStatus === 'published'}" class="nav-link" i18n>Published</a>
      <a (click)="filterByStatus('sold')" [ngClass]="{active: selectedStatus === 'sold'}" class="nav-link" i18n="tab|plural">Sold</a>
      <a (click)="filterByStatus('expired')" [ngClass]="{active: selectedStatus === 'expired'}" class="nav-link" i18n>Expired</a>
    </nav>
    <a id="total-selected" class="filtered" [hidden]="itemService.selectedItems.length === 0" [ngClass]="{'show': itemService.selectedItems.length}" (click)="deselect()">
      <ng-container [ngPlural]="itemService.selectedItems.length">
        <ng-template ngPluralCase="=1"><ng-container i18n>1 item selected</ng-container></ng-template>
        <ng-template ngPluralCase="other"><ng-container i18n>{{itemService.selectedItems.length // i18n(ph="TOTAL_SELECTED")}} items selected</ng-container></ng-template>
      </ng-container>
    </a>
    <div class="row items">
      <div  id="catalog-empty-state" *ngIf="!items.length && !loading">
        <md-icon svgIcon="items-empty-state" class="image"></md-icon>
      </div>
      <tsl-catalog-item *ngFor="let item of items" [item]="item" (itemChange)="itemChanged($event)" class="col-md-12"></tsl-catalog-item>
      <tsl-spinner [hidden]="!loading"></tsl-spinner>
    </div>
  </div>
</div>
<tsl-selected-items *ngIf="itemService.selectedItems.length"
                    [items]="items"
                    (onAction)="onAction($event)"
></tsl-selected-items>
<tsl-sabadell [submit]="sabadellSubmit"></tsl-sabadell>
