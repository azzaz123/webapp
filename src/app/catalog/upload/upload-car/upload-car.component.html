<div class="page-content" #scrollPanel>
  <div class="container upload-page">
    <h1>
      <tsl-category-selector categoryId="100"></tsl-category-selector>
      <a class="upload-close-icon" [routerLink]="['/catalog/list']">
        <md-icon svgIcon="cross"></md-icon>
      </a>
    </h1>
    <form [formGroup]="uploadForm" (ngSubmit)="onSubmit()">
      <div class="box">
        <h2 i18n>Product info</h2>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="brand" i18n>Brand</label>
              <ng-select i18n-placeholder placeholder="The brand of your vehicle" class="form-control" formControlName="brand" id="brand" [options]="brands"
                         (selected)="getModels($event.value)"></ng-select>

            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="model" i18n>Model</label>
              <ng-select i18n-placeholder placeholder="Model of your vehicle" class="form-control" formControlName="model" id="model" [options]="models"
                         (selected)="getYears($event.value)"></ng-select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="year" i18n>Year</label>
              <ng-select i18n-placeholder placeholder="Year of fabrication" class="form-control" formControlName="year" id="year" [options]="years"
                         (selected)="getVersions($event.value)"></ng-select>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="form-group">
              <label for="price" i18n>Price</label>
              <input i18n-placeholder placeholder="Fair price" type="number" class="form-control" formControlName="sale_price" id="price" min="0"
                     max="999999999"/>

            </div>
          </div>
          <div class="col-sm-2">
            <div class="form-group">
              <label for="currency" i18n>Currency</label>
              <ng-select class="form-control" formControlName="currency_code" id="currency" [options]="currencies"
                         noFilter="10"></ng-select>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group last">
              <label for="headline" i18n>Title</label>
              <span class="chars-counter">{{uploadForm.value?.title?.length}}/50</span>
              <input i18n-placeholder placeholder="What are you selling?" type="text" class="form-control" formControlName="title" id="headline" maxlength="50"/>
            </div>
          </div>
        </div>
      </div>
      <div class="box">
        <h2 i18n>Additional info</h2>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="version" i18n>Version</label>
              <ng-select i18n-placeholder placeholder="Version of your vehicle" class="form-control" formControlName="version" id="version" [options]="versions"></ng-select>
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="seats" i18n>Number of seats</label>
              <input i18n-placeholder placeholder="Number of seats of your vehicle" type="number" class="form-control" formControlName="num_seats" id="seats" min="0" max="99"/>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="carType" i18n>Car Type</label>
              <ng-select i18n-placeholder placeholder="Car type of your vehicle" class="form-control" formControlName="body_type" id="carType" [options]="carTypes"
                         noFilter="20"></ng-select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="km" i18n>Kilometers</label>
              <input i18n-placeholder placeholder="Kilometers of your vehicle" type="number" class="form-control" formControlName="km" id="km" min="0" max="999999999"/>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6 selector-container">
            <h3 i18n>Engine</h3>
            <div ngbRadioGroup name="radioBasic" formControlName="engine">
              <label class="btn selector">
                <input type="radio" value="gasoline">
                <md-icon svgIcon="gasoline"></md-icon>
                <span i18n>Gasoline</span>
              </label>
              <label class="btn selector">
                <input type="radio" value="gasoil">
                <md-icon svgIcon="gasoil"></md-icon>
                <span i18n>Gasoil</span>
              </label>
              <label class="btn selector">
                <input type="radio" value="electric-hybrid">
                <md-icon svgIcon="electric"></md-icon>
                <span i18n>Electric</span>
              </label>
              <label class="btn selector">
                <input type="radio" value="others">
                <md-icon svgIcon="others"></md-icon>
                <span i18n>Others</span>
              </label>
            </div>
          </div>
          <div class="col-sm-6 selector-container">
            <h3 i18n>Gear box</h3>
            <div ngbRadioGroup name="radioBasic" formControlName="gearbox">
              <label class="btn selector">
                <input type="radio" value="manual">
                <md-icon svgIcon="manual"></md-icon>
                <span i18n>Manual</span>
              </label>
              <label class="btn selector">
                <input type="radio" value="automatic">
                <md-icon svgIcon="automatic"></md-icon>
                <span i18n>Automatic</span>
              </label>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12">
            <div class="form-group last">
              <label for="tellUs" i18n>Description</label>
              <span class="chars-counter">{{uploadForm.value?.storytelling?.length}}/650</span>
                <textarea i18n-placeholder placeholder="Tell us more about what you are selling..." fz-elastic class="form-control" formControlName="storytelling" id="tellUs" maxlength="650"></textarea>
            </div>
          </div>
        </div>
      </div>
      <div class="box product-photos">
        <h2 i18n>Pictures</h2>
        <tsl-drop-area [uploadEvent]="uploadEvent" (onUploaded)="onUploaded($event)" (onError)="onError($event)" formControlName="images" [maxUploads]="8"></tsl-drop-area>
      </div>
      <div class="box">
        <div class="selector-container terms-options" formGroupName="sale_conditions" data-toggle="buttons">
          <h2 i18n>Extras</h2>
          <label class="btn selector" [class.active]="uploadForm.value.sale_conditions.fix_price">
            <input type="checkbox" formControlName="fix_price">
            <md-icon svgIcon="firm-price"></md-icon>
            <span i18n>Firm Price</span>
          </label>
          <label class="btn selector" [class.active]="uploadForm.value.sale_conditions.exchange_allowed">
            <input type="checkbox" formControlName="exchange_allowed">
            <md-icon svgIcon="accept-trades"></md-icon>
            <span i18n>Accept trades</span>
          </label>
        </div>
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="loading">
        <md-icon svgIcon="spinner" [hidden]="!loading" class="spinner white"></md-icon>
        <span [hidden]="loading" i18n>List car</span>
      </button>
    </form>
  </div>
</div>
