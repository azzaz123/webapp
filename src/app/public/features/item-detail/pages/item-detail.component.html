<div class="container ItemDetail__container">
    <div class="d-block pt-4">
        <tsl-top-sky class="mt-4 mx-0 mx-xl-auto pr-xl-0"
            *ngIf="device === deviceType.DESKTOP || device === deviceType.TABLET"></tsl-top-sky>
        <div class="d-flex justify-content-around py-4">
            <div *ngIf="device === deviceType.DESKTOP">
                <tsl-side-sky class="position-sticky d-none d-xl-block"></tsl-side-sky>
            </div>
            <div class="ItemDetail__container__middle d-flex flex-column w-100" *ngIf="itemDetail && !loading">
                <div class="ItemDetail__content px-4 pb-5 ">
                    <div class="ItemDetail__carousel position-relative w-100">
                        <tsl-item-images-carousel [images]="images" [itemFlags]="itemFlags"></tsl-item-images-carousel>
                    </div>
                    <div class="ItemDetail__content__header mt-3 py-3">
                        <span class="ItemDetail__price d-block">{{itemDetail?.item?.salePrice |
                            customCurrency:itemDetail?.item?.currencyCode}}</span>
                        <h1 class="ItemDetail__title my-0">{{itemDetail?.item?.title}}</h1>
                    </div>
                    <p class="ItemDetail__description py-3 mb-0 text-break">{{itemDetail?.item?.description}}</p>
                    <div class="ItemDetail__stats py-3">
                        <div class="d-inline-block">
                            {{ itemDetail?.item?.publishedDate | date:'longDate' }}
                        </div>
                        <div class="float-right d-flex align-items-center ml-3">
                            <tsl-svg-icon src="/assets/icons/heart.svg" width=14 height=14></tsl-svg-icon>
                            <span class="float-right ml-1" id="favorites">{{ itemDetail?.item?.favorites ||
                                0}}</span>
                        </div>
                        <div class="float-right d-flex align-items-center">
                            <tsl-svg-icon src="/assets/icons/cm-eye.svg" width=20 height=20>
                            </tsl-svg-icon>
                            <span class="float-right ml-1" id="views">{{ itemDetail?.item?.views || 0}}</span>
                        </div>
                    </div>
                    <div class="ItemDetail__location py-3 d-flex align-items-center">
                        <tsl-svg-icon src="/assets/icons/location.svg" class="mr-2"></tsl-svg-icon>
                        {{locationSpecifications}}
                    </div>
                    <tsl-here-maps *ngIf="locationHaveCoordinates()" zoom="15" size="small" [coordinates]="coordinates"
                        [isApproximateLocation]="isApproximateLocation" class="w-100 mb-3">
                    </tsl-here-maps>
                    <div class="ItemDetail__fakeMap" *ngIf="!locationHaveCoordinates()"></div>
                    <tsl-social-share [title]="socialShare?.title" [facebook]="socialShare?.facebook"
                        [twitter]="socialShare?.twitter" [email]="socialShare?.email"></tsl-social-share>
                </div>
                <tsl-recommended-items *ngIf="recommendedItems?.recommended_items?.length" class="mt-3"
                    [recommendedItems]="recommendedItems">
                </tsl-recommended-items>
            </div>
            <div *ngIf="device === deviceType.DESKTOP">
                <tsl-side-sky class="position-sticky d-none d-xl-block"></tsl-side-sky>
            </div>
        </div>
    </div>
</div>