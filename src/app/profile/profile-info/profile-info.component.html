<form [formGroup]="profileForm" (submit)="onSubmit()">
  <div class="row box profile-box">
    <div class="col-12 col-md-11 offset-md-1">
      <tsl-picture-upload [user]="user"></tsl-picture-upload>
      <tsl-cover-upload (clickNotPro)="openBecomeProModal()" [user]="user" [isPro]="isPro"></tsl-cover-upload>
    </div>
  </div>
  <tsl-profile-form [profileForm]="profileForm">
    <div class="row box profile-box">
      <div class="col-12 col-md-11 offset-md-1">
        <div class="row mb-2 mb-md-4">
          <div class="col-12">
            <h3 i18n>Public information</h3>
          </div>
        </div>
        <div class="form-group row align-items-center" *ngIf="!isPro">
          <label for="first_name" class="col-12 col-md-3 text-md-right" i18n>First name</label>
          <div class="col-12 col-md-6 offset-md-1">
            <input type="text" class="form-control" id="first_name" formControlName="first_name" tslRestrictInput maxlength="50" />
          </div>
        </div>
        <div class="form-group row align-items-center" *ngIf="!isPro">
          <label for="last_name" class="col-12 col-md-3 text-md-right" i18n>Last name</label>
          <div class="col-12 col-md-6 offset-md-1">
            <input type="text" class="form-control" id="last_name" formControlName="last_name" tslRestrictInput maxlength="50" />
          </div>
        </div>
        <div class="form-group row align-items-center" *ngIf="isPro">
          <label for="name" class="col-12 col-md-3 text-md-right" i18n>Name</label>
          <div class="col-3">
            <input type="text" class="form-control" id="name" formControlName="first_name" tslRestrictInput maxlength="50" />
          </div>
          <div class="col-3">
            <input type="text" class="form-control" formControlName="last_name" tslRestrictInput maxlength="50" />
          </div>
        </div>
        <div class="form-group row">
          <label class="col-12 col-md-3 text-md-right" i18n>Product location</label>
          <div class="col-12 col-md-6 offset-md-1">
            <tsl-location-box [location]="user.location" [form]="profileForm" name="location" [updateLocation]="updateLocationWhenSearching"></tsl-location-box>
          </div>
        </div>
        <div class="pro-section" [class.not-pro]="!isPro">
          <div class="form-group row">
            <label for="description" class="col-12 col-md-3 text-md-right" i18n>Description</label>
            <div class="col-12 col-md-6 offset-md-1">
              <span class="chars-counter">{{profileForm.value?.description?.length}}/250</span>
              <textarea (click)="openBecomeProModal()" class="form-control" id="description" formControlName="description" maxlength="250" [readonly]="!isPro"></textarea>
            </div>
          </div>
          <div class="form-group row">
            <label for="opening_hours" class="col-12 col-md-3 text-md-right" i18n>Opening Hours</label>
            <div class="col-12 col-md-6 offset-md-1">
              <span class="chars-counter">{{profileForm.value?.opening_hours?.length}}/250</span>
              <textarea (click)="openBecomeProModal()" class="form-control" id="opening_hours" formControlName="opening_hours" maxlength="250" [readonly]="!isPro"></textarea>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <label for="phone_number" class="col-12 col-md-3 text-md-right" i18n>Telephone</label>
            <div class="col-12 col-md-6 offset-md-1">
              <input (click)="openBecomeProModal()" type="text" class="form-control" id="phone_number" formControlName="phone_number" [readonly]="!isPro" />
              <span class="tracking-phone-info" *ngIf="isPro" i18n>This telephone number will never be public, we will assign you a tracking number and it will be what customers will see.</span>
            </div>
          </div>
          <div class="form-group row align-items-center">
            <label for="link" class="col-12 col-md-3 text-md-right">Web</label>
            <div class="col-12 col-md-6 offset-md-1">
              <input (click)="openBecomeProModal()" class="form-control" id="link" formControlName="link" pattern="^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.]+$" [readonly]="!isPro" />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 text-center">
            <tsl-button [type]="'submit'" className="btn-primary btn-big" tslTrackEvent="MYPROFILE_SAVEBUTTON" [disabled]="!formComponent.hasNotSavedChanges"
                        i18n>Save</tsl-button>
          </div>
        </div>
      </div>
    </div>
  </tsl-profile-form>
</form>
