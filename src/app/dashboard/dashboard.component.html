<div class="container">
  <tsl-header>
    <div class="col-12">
      <div class="header-row">
        <h1 class="header-title"><span i18n>Your stats</span></h1>
      </div>
      <div class="header-row header-row--margin">
        <h4 class="header-subtitle" i18n>Some little info about this section</h4>
      </div>
    </div>
  </tsl-header>
  <tsl-stats-graph></tsl-stats-graph>
  <div class="stats-sidebar">
    <div class="stats-sidebar-container">
      <h2>
        <span i18n>Pending</span>
        <span [hidden]="!phonesTotal && !messagesTotal">({{phonesTotal + messagesTotal}})</span>
      </h2>
    </div>
    <div class="scroll-panel" [hidden]="completed">
      <div class="stats-sidebar-container" [hidden]="loading || (!conversations.length && calls.length)">
        <h3>
          <span i18n>Messages</span>
          <a [routerLink]="['/chat']" [hidden]="!messagesTotal"><span i18n>View all</span></a>
        </h3>
        <tsl-conversation [conversation]="conversation"
                          [routerLink]="['/chat']" [queryParams]="{c: conversation.id}"
                          *ngFor="let conversation of conversations" [hidden]="!conversations.length"></tsl-conversation>
      </div>
      <div class="stats-sidebar-container calls-container" [hidden]="loading || (!calls.length && conversations.length)">
        <h3>
          <span i18n>Phones</span>
          <a [routerLink]="['/pro/calls']" [hidden]="!phonesTotal"><span i18n>View all</span></a>
        </h3>
        <tsl-call [call]="call"
                  *ngFor="let call of calls"
                  [routerLink]="['/pro/calls']" [queryParams]="{c: call.id}"
                  (click)="trackPhoneLeadOpened()"
                  [hidden]="!calls.length"></tsl-call>
      </div>
      <mat-icon svgIcon="spinner" class="spinner" [hidden]="!loading"></mat-icon>
    </div>
    <div [hidden]="!completed" class="stats-sidebar-completed">
      <div>
        <h2 i18n>Congratulations!</h2>
        <p i18n>You have processed all the pending leads. Good job!</p>
      </div>
    </div>
  </div>
</div>
