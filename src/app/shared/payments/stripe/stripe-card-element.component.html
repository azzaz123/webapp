<div id="stripe">
    <form id="payment-form" method="POST" action="/orders">
        <fieldset>
            <div class="form-row">
                <div class="field">
                    <div id="checkout-card" class="input empty" [class.variant]="paymentMethod === paymentTypeStripeV2"></div>
                </div>
            </div>
        </fieldset>
        <div id="card-errors" role="alert" *ngIf="error">
            {{ error }}
        </div>
        <tsl-button [hidden]="type === 'new' || type === 'subscription'"
                    id="checkout-card-button"
                    className="btn-primary btn-medium stripe"
                    [disabled]="type === 'cart' && !cart?.total || loading"
                    [loading]="loading"
                    (click)="onSubmit()"
                    [tslTrackEvent]="'PURCHASE_CONFIRM_PACK_CREDITS_NO_CARD'"
                    [params]="{ payment_method: 'STRIPE' }"
                    i18n
        >
            <div class="secure-payment">
                <span i18n>Continue to Checkout</span>
                <mat-icon svgIcon="lock-new" *ngIf="paymentMethod === paymentTypeStripeV2"></mat-icon>
            </div>
        </tsl-button>
        <tsl-button *ngIf="type === 'new'"
                    id="checkout-card-button-new"
                    className="btn-primary btn-medium stripe"
                    [loading]="newLoading"
                    [disabled]="disabled || newLoading"
                    (click)="createNewCard()" i18n
        >
            <div class="secure-payment">
                <span i18n>Save</span>
                <mat-icon svgIcon="lock-new" *ngIf="paymentMethod === paymentTypeStripeV2"></mat-icon>
            </div>
        </tsl-button>
        <tsl-button *ngIf="type === 'subscription'"
                    id="checkout-card-button-new"
                    className="btn-primary btn-medium stripe"
                    [disabled]="!listingLimit || disabled || newLoading"
                    [loading]="newLoading"
                    (click)="createNewCard()" i18n
        >
            <div class="secure-payment">
                <span i18n>Add Subscription</span>
                <mat-icon svgIcon="lock-new" *ngIf="paymentMethod === paymentTypeStripeV2"></mat-icon>
            </div>
        </tsl-button>
    </form>
</div>