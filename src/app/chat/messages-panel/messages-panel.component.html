<div class="messages-panel-container" #messagesPanel>
  <div *ngFor="let message of currentConversation?.messages; let i = index">
    <h6 *ngIf="showDate(currentConversation.messages[i-1], message)">
      {{message.date | amCalendar:momentConfig}}
    </h6>
    <tsl-message [message]="message" [showUserInfo]="
      currentConversation.messages[i-1]?.user.id !== message.user.id ||
      showDate(currentConversation.messages[i-1], message)"></tsl-message>
  </div>
</div>