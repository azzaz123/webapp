<a class="card" href="{{itemUrl}}" (click)="prevent($event)" target="_blank" tslTrackEvent="PRODUCT_VIEWED" [params]="{product_id: item.id}"
   [params]="{id: item.id, title: item.title, category_id: item.categoryId, sale_price: item.salePrice}">
  <div class="image-overlay">
    <img class="card-img-top" src="{{item.mainImage?.urls_by_size.large.replace('http://', 'https://')}}"
         onError="this.src='/assets/images/fake-item.png'"/>
    <a class="btn btn-edit" target='_blank' (click)='editItem($event)' [routerLink]="['/catalog/edit/', this.item.id]" tslTrackEvent="CHAT_EDITITEM"
      *ngIf="!item.sold">
      <mat-icon svgIcon="btn-edit"></mat-icon>
    </a>
    <div class="image-bottom">
      <tsl-item-sold [item]="item"></tsl-item-sold>
      <tsl-item-reserved [item]="item" *ngIf="!item.sold"></tsl-item-reserved>
    </div>
  </div>
  <div class="card-block">
    <h5 class="card-title">{{item.title}}</h5>
    <div class="float-left price" *ngIf="item.salePrice !== undefined">{{item.salePrice | customCurrency:item.currencyCode}}</div>
    <div class="float-right stats" *ngIf="item.views !== undefined && item.favorites !== undefined">
      <mat-icon svgIcon="views"></mat-icon>
      {{item.views}}
      <mat-icon svgIcon="heart"></mat-icon>
      {{item.favorites}}
    </div>
  </div>
</a>
